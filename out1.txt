LOAD-PROJ: /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py
{'nn': 'mindspore.nn', 'de': 'mindspore.dataset'}
dict_keys(['ast', 'argparse', 'os', 'alexnet_cifar10_cfg', 'alexnet_imagenet_cfg', 'get_lr_cifar10', 'get_lr_imagenet', 'AlexNet', 'get_param_groups', 'nn', 'init', 'get_rank', 'de', 'context', 'Tensor', 'Model', 'ParallelMode', 'Accuracy', 'ModelCheckpoint', 'CheckpointConfig', 'LossMonitor', 'TimeMonitor', 'set_seed', 'DynamicLossScaleManager', 'FixedLossScaleManager'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py
de.config.set_seed(1)
first, mindspore
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#41#de.config:None/unknown#set_seed
API IV
9
[1]
Top-k: 1 1 1 1 1 1 1 1
Top-k+mrr: 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0
[1]
Top-k: 1 1 1 1 1 1 1 1
Top-k+mrr: 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0
parser = argparse.ArgumentParser(description='MindSpore AlexNet Example')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#44#argparse:None/module#ArgumentParser
API IV
50
[1, 1]
Top-k: 2 2 2 2 2 2 2 2
Top-k+mrr: 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0
[1, 1]
Top-k: 2 2 2 2 2 2 2 2
Top-k+mrr: 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0
parser.add_argument('--sink_size', type=int, default=-1, help='control the amount of data in each sink')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#47#parser:None/unknown#add_argument
API IV
17
[1, 1, 5]
Top-k: 2 2 2 2 3 3 3 3
Top-k+mrr: 0.6666666666666666 0.6666666666666666 0.6666666666666666 0.6666666666666666 1.0 1.0 1.0 0.7333333333333334
[1, 1, 5]
Top-k: 2 2 2 2 3 3 3 3
Top-k+mrr: 0.6666666666666666 0.6666666666666666 0.6666666666666666 0.6666666666666666 1.0 1.0 1.0 0.7333333333333334
parser.add_argument('--data_path', type=str, default="./", help='path where the dataset is saved')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#50#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5]
Top-k: 2 2 2 2 4 4 4 4
Top-k+mrr: 0.5 0.5 0.5 0.5 1.0 1.0 1.0 0.6000000000000001
[1, 1, 5, 5]
Top-k: 2 2 2 2 4 4 4 4
Top-k+mrr: 0.5 0.5 0.5 0.5 1.0 1.0 1.0 0.6000000000000001
parser.add_argument('--device_id', type=int, default=0, help='device id of GPU or Ascend. (Default: 0)')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#55#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5]
Top-k: 2 2 2 2 5 5 5 5
Top-k+mrr: 0.4 0.4 0.4 0.4 1.0 1.0 1.0 0.5200000000000001
[1, 1, 5, 5, 5]
Top-k: 2 2 2 2 5 5 5 5
Top-k+mrr: 0.4 0.4 0.4 0.4 1.0 1.0 1.0 0.5200000000000001
args = parser.parse_args()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#56#parser:None/unknown#parse_args
API IV
17
[1, 1, 5, 5, 5, 1]
Top-k: 3 3 3 3 6 6 6 6
Top-k+mrr: 0.5 0.5 0.5 0.5 1.0 1.0 1.0 0.6000000000000001
[1, 1, 5, 5, 5, 1]
Top-k: 3 3 3 3 6 6 6 6
Top-k+mrr: 0.5 0.5 0.5 0.5 1.0 1.0 1.0 0.6000000000000001
device_num = int(os.environ.get("DEVICE_NUM", 1))
first, os
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#58#os.environ:None/unknown#get
API OOV
context.set_context(mode=context.GRAPH_MODE, device_target=args.device_target)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#70#context:None/module#set_context
API IV
9
[1, 1, 5, 5, 5, 1, 4]
Top-k: 3 3 3 4 7 7 7 7
Top-k+mrr: 0.42857142857142855 0.42857142857142855 0.42857142857142855 0.5714285714285714 1.0 1.0 1.0 0.55
[1, 1, 5, 5, 5, 1, 100, 4]
Top-k: 3 3 3 4 7 7 7 8
Top-k+mrr: 0.375 0.375 0.375 0.5 0.875 0.875 0.875 0.48250000000000004
context.set_context(save_graphs=False)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#71#context:None/module#set_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3]
Top-k: 3 3 4 5 8 8 8 8
Top-k+mrr: 0.375 0.375 0.5 0.625 1.0 1.0 1.0 0.5229166666666667
[1, 1, 5, 5, 5, 1, 100, 4, 3]
Top-k: 3 3 4 5 8 8 8 9
Top-k+mrr: 0.3333333333333333 0.3333333333333333 0.4444444444444444 0.5555555555555556 0.8888888888888888 0.8888888888888888 0.8888888888888888 0.4659259259259259
context.set_context(device_id=args.device_id)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#74#context:None/module#set_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3, 2]
Top-k: 3 4 5 6 9 9 9 9
Top-k+mrr: 0.3333333333333333 0.4444444444444444 0.5555555555555556 0.6666666666666666 1.0 1.0 1.0 0.5203703703703704
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2]
Top-k: 3 4 5 6 9 9 9 10
Top-k+mrr: 0.3 0.4 0.5 0.6 0.9 0.9 0.9 0.4693333333333333
context.reset_auto_parallel_context()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#77#context:None/module#reset_auto_parallel_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8]
Top-k: 3 4 5 6 9 10 10 10
Top-k+mrr: 0.3 0.4 0.5 0.6 0.9 1.0 1.0 0.48083333333333333
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8]
Top-k: 3 4 5 6 9 10 10 11
Top-k+mrr: 0.2727272727272727 0.36363636363636365 0.45454545454545453 0.5454545454545454 0.8181818181818182 0.9090909090909091 0.9090909090909091 0.43803030303030305
context.reset_auto_parallel_context()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#84#context:None/module#reset_auto_parallel_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8]
Top-k: 3 4 5 6 9 11 11 11
Top-k+mrr: 0.2727272727272727 0.36363636363636365 0.45454545454545453 0.5454545454545454 0.8181818181818182 1.0 1.0 0.4484848484848485
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8]
Top-k: 3 4 5 6 9 11 11 12
Top-k+mrr: 0.25 0.3333333333333333 0.4166666666666667 0.5 0.75 0.9166666666666666 0.9166666666666666 0.41194444444444445
if ds_train.get_dataset_size() == 0:
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#97#ds_train:None/unknown#get_dataset_size
API IV
2
step_per_epoch = ds_train.get_dataset_size() if args.sink_size == -1 else args.sink_size
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#104#ds_train:None/unknown#get_dataset_size
API IV
2
loss = nn.SoftmaxCrossEntropyWithLogits(sparse=True, reduction="mean")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#106#nn:None/mindspore.nn#SoftmaxCrossEntropyWithLogits
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186]
Top-k: 3 4 5 6 9 11 11 12
Top-k+mrr: 0.25 0.3333333333333333 0.4166666666666667 0.5 0.75 0.9166666666666666 0.9166666666666666 0.4115591397849463
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186]
Top-k: 3 4 5 6 9 11 11 13
Top-k+mrr: 0.23076923076923078 0.3076923076923077 0.38461538461538464 0.46153846153846156 0.6923076923076923 0.8461538461538461 0.8461538461538461 0.38066997518610424
opt = nn.Momentum(network.trainable_params(), lr, cfg.momentum)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#108#nn:None/mindspore.nn#Momentum
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248]
Top-k: 3 4 5 6 9 11 11 13
Top-k+mrr: 0.23076923076923078 0.3076923076923077 0.38461538461538464 0.46153846153846156 0.6923076923076923 0.8461538461538461 0.8461538461538461 0.380210918114144
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248]
Top-k: 3 4 5 6 9 11 11 14
Top-k+mrr: 0.21428571428571427 0.2857142857142857 0.35714285714285715 0.42857142857142855 0.6428571428571429 0.7857142857142857 0.7857142857142857 0.3537672811059908
loss = nn.SoftmaxCrossEntropyWithLogits(sparse=True, reduction="mean")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#112#nn:None/mindspore.nn#SoftmaxCrossEntropyWithLogits
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185]
Top-k: 3 4 5 6 9 11 11 14
Top-k+mrr: 0.21428571428571427 0.2857142857142857 0.35714285714285715 0.42857142857142855 0.6428571428571429 0.7857142857142857 0.7857142857142857 0.3534390957778055
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185]
Top-k: 3 4 5 6 9 11 11 15
Top-k+mrr: 0.2 0.26666666666666666 0.3333333333333333 0.4 0.6 0.7333333333333333 0.7333333333333333 0.33054315605928514
opt = nn.Momentum(params=get_param_groups(network),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#114#nn:None/mindspore.nn#Momentum
API IV
265
ckpt_save_dir = os.path.join(args.ckpt_path + "_" + str(get_rank()))
first, os
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#138#os.path:None/unknown#join
API IV
55
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32]
Top-k: 3 4 5 6 9 11 11 15
Top-k+mrr: 0.2 0.26666666666666666 0.3333333333333333 0.4 0.6 0.7333333333333333 0.7333333333333333 0.3319598227259518
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32]
Top-k: 3 4 5 6 9 11 11 16
Top-k+mrr: 0.1875 0.25 0.3125 0.375 0.5625 0.6875 0.6875 0.3118373338055798
model.train(cfg.epoch_size, ds_train, callbacks=[time_cb, ckpoint_cb, LossMonitor()],
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/train.py#148#model:None/unknown#train
API IV
14
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3]
Top-k: 3 4 6 7 10 12 12 16
Top-k+mrr: 0.1875 0.25 0.375 0.4375 0.625 0.75 0.75 0.33204566713891315
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3]
Top-k: 3 4 6 7 10 12 12 17
Top-k+mrr: 0.17647058823529413 0.23529411764705882 0.35294117647058826 0.4117647058823529 0.5882352941176471 0.7058823529411765 0.7058823529411765 0.3131018043660359
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/__init__.py
{}
dict_keys([])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/__init__.py
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py
{'nn': 'mindspore.nn', 'P': 'mindspore.ops.operations'}
dict_keys(['nn', 'P'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py
return nn.Dense(input_channels, out_channels, has_bias=has_bias)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#24#nn:Any/mindspore.nn#Dense
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96]
Top-k: 3 4 6 7 10 12 12 17
Top-k+mrr: 0.17647058823529413 0.23529411764705882 0.35294117647058826 0.4117647058823529 0.5882352941176471 0.7058823529411765 0.7058823529411765 0.3131263141699575
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96]
Top-k: 3 4 6 7 10 12 12 18
Top-k+mrr: 0.16666666666666666 0.2222222222222222 0.3333333333333333 0.3888888888888889 0.5555555555555556 0.6666666666666666 0.6666666666666666 0.2962859633827376
self.relu = P.ReLU()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#37#P:Any/mindspore.ops.operations#ReLU
API IV
140
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69]
Top-k: 3 4 6 7 10 12 12 18
Top-k+mrr: 0.16666666666666666 0.2222222222222222 0.3333333333333333 0.3888888888888889 0.5555555555555556 0.6666666666666666 0.6666666666666666 0.2965355608062481
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69]
Top-k: 3 4 6 7 10 12 12 19
Top-k+mrr: 0.15789473684210525 0.21052631578947367 0.3157894736842105 0.3684210526315789 0.5263157894736842 0.631578947368421 0.631578947368421 0.28145474181644553
self.max_pool2d = nn.MaxPool2d(kernel_size=3, stride=2, pad_mode='valid')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#38#nn:Any/mindspore.nn#MaxPool2d
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148]
Top-k: 3 4 6 7 10 12 12 19
Top-k+mrr: 0.15789473684210525 0.21052631578947367 0.3157894736842105 0.3684210526315789 0.5263157894736842 0.631578947368421 0.631578947368421 0.28128404480364333
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148]
Top-k: 3 4 6 7 10 12 12 20
Top-k+mrr: 0.15 0.2 0.3 0.35 0.5 0.6 0.6 0.26771984256346115
self.flatten = nn.Flatten()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#44#nn:Any/mindspore.nn#Flatten
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1]
Top-k: 4 5 7 8 11 13 13 20
Top-k+mrr: 0.2 0.25 0.35 0.4 0.55 0.65 0.65 0.31721984256346114
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1]
Top-k: 4 5 7 8 11 13 13 21
Top-k+mrr: 0.19047619047619047 0.23809523809523808 0.3333333333333333 0.38095238095238093 0.5238095238095238 0.6190476190476191 0.6190476190476191 0.30259032625091536
self.dropout = nn.Dropout(dropout_ratio)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#48#nn:Any/mindspore.nn#Dropout
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128]
Top-k: 4 5 7 8 11 13 13 21
Top-k+mrr: 0.19047619047619047 0.23809523809523808 0.3333333333333333 0.38095238095238093 0.5238095238095238 0.6190476190476191 0.6190476190476191 0.3024861595842487
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128]
Top-k: 4 5 7 8 11 13 13 22
Top-k+mrr: 0.18181818181818182 0.22727272727272727 0.3181818181818182 0.36363636363636365 0.5 0.5909090909090909 0.5909090909090909 0.28919133414860104
x = self.conv1(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#52#self:AlexNet/unknown#conv1
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74]
Top-k: 4 5 7 8 11 13 13 22
Top-k+mrr: 0.18181818181818182 0.22727272727272727 0.3181818181818182 0.36363636363636365 0.5 0.5909090909090909 0.5909090909090909 0.2893510393083062
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74]
Top-k: 4 5 7 8 11 13 13 23
Top-k+mrr: 0.17391304347826086 0.21739130434782608 0.30434782608695654 0.34782608695652173 0.4782608695652174 0.5652173913043478 0.5652173913043478 0.27720534194707547
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#53#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58]
Top-k: 4 5 7 8 11 13 13 23
Top-k+mrr: 0.17391304347826086 0.21739130434782608 0.30434782608695654 0.34782608695652173 0.4782608695652174 0.5652173913043478 0.5652173913043478 0.27752018452578614
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58]
Top-k: 4 5 7 8 11 13 13 24
Top-k+mrr: 0.16666666666666666 0.20833333333333334 0.2916666666666667 0.3333333333333333 0.4583333333333333 0.5416666666666666 0.5416666666666666 0.26637351017054506
x = self.max_pool2d(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#54#self:AlexNet/unknown#max_pool2d
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113]
Top-k: 4 5 7 8 11 13 13 24
Top-k+mrr: 0.16666666666666666 0.20833333333333334 0.2916666666666667 0.3333333333333333 0.4583333333333333 0.5416666666666666 0.5416666666666666 0.2663255750673002
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113]
Top-k: 4 5 7 8 11 13 13 25
Top-k+mrr: 0.16 0.2 0.28 0.32 0.44 0.52 0.52 0.2560725520646082
x = self.conv2(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#55#self:AlexNet/unknown#conv2
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913]
Top-k: 4 5 7 8 11 13 13 25
Top-k+mrr: 0.16 0.2 0.28 0.32 0.44 0.52 0.52 0.25571636367468487
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913]
Top-k: 4 5 7 8 11 13 13 26
Top-k+mrr: 0.15384615384615385 0.19230769230769232 0.2692307692307692 0.3076923076923077 0.4230769230769231 0.5 0.5 0.2462657343025816
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#56#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58]
Top-k: 4 5 7 8 11 13 13 26
Top-k+mrr: 0.15384615384615385 0.19230769230769232 0.2692307692307692 0.3076923076923077 0.4230769230769231 0.5 0.5 0.24654424889144105
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58]
Top-k: 4 5 7 8 11 13 13 27
Top-k+mrr: 0.14814814814814814 0.18518518518518517 0.25925925925925924 0.2962962962962963 0.4074074074074074 0.48148148148148145 0.48148148148148145 0.23778335078435064
x = self.max_pool2d(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#57#self:AlexNet/unknown#max_pool2d
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113]
Top-k: 4 5 7 8 11 13 13 27
Top-k+mrr: 0.14814814814814814 0.18518518518518517 0.25925925925925924 0.2962962962962963 0.4074074074074074 0.48148148148148145 0.48148148148148145 0.23774074180368857
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113]
Top-k: 4 5 7 8 11 13 13 28
Top-k+mrr: 0.14285714285714285 0.17857142857142858 0.25 0.2857142857142857 0.39285714285714285 0.4642857142857143 0.4642857142857143 0.22960714388212827
x = self.conv3(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#58#self:AlexNet/unknown#conv3
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345]
Top-k: 4 5 7 8 11 13 13 28
Top-k+mrr: 0.14285714285714285 0.17857142857142858 0.25 0.2857142857142857 0.39285714285714285 0.4642857142857143 0.4642857142857143 0.22935352069372247
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345]
Top-k: 4 5 7 8 11 13 13 29
Top-k+mrr: 0.13793103448275862 0.1724137931034483 0.2413793103448276 0.27586206896551724 0.3793103448275862 0.4482758620689655 0.4482758620689655 0.22178960618704238
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#59#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58]
Top-k: 4 5 7 8 11 13 13 29
Top-k+mrr: 0.13793103448275862 0.1724137931034483 0.2413793103448276 0.27586206896551724 0.3793103448275862 0.4482758620689655 0.4482758620689655 0.22203930892188187
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58]
Top-k: 4 5 7 8 11 13 13 30
Top-k+mrr: 0.13333333333333333 0.16666666666666666 0.23333333333333334 0.26666666666666666 0.36666666666666664 0.43333333333333335 0.43333333333333335 0.21497133195781915
x = self.conv4(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#60#self:AlexNet/unknown#conv4
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148]
Top-k: 4 5 7 8 11 13 13 30
Top-k+mrr: 0.13333333333333333 0.16666666666666666 0.23333333333333334 0.26666666666666666 0.36666666666666664 0.43333333333333335 0.43333333333333335 0.21486322384971104
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148]
Top-k: 4 5 7 8 11 13 13 31
Top-k+mrr: 0.12903225806451613 0.16129032258064516 0.22580645161290322 0.25806451612903225 0.3548387096774194 0.41935483870967744 0.41935483870967744 0.2082547327577849
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#61#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58]
Top-k: 4 5 7 8 11 13 13 31
Top-k+mrr: 0.12903225806451613 0.16129032258064516 0.22580645161290322 0.25806451612903225 0.3548387096774194 0.41935483870967744 0.41935483870967744 0.20848832563876377
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58]
Top-k: 4 5 7 8 11 13 13 32
Top-k+mrr: 0.125 0.15625 0.21875 0.25 0.34375 0.40625 0.40625 0.20228556546255239
x = self.conv5(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#62#self:AlexNet/unknown#conv5
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179]
Top-k: 4 5 7 8 11 13 13 32
Top-k+mrr: 0.125 0.15625 0.21875 0.25 0.34375 0.40625 0.40625 0.202147646468139
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179]
Top-k: 4 5 7 8 11 13 13 33
Top-k+mrr: 0.12121212121212122 0.15151515151515152 0.21212121212121213 0.24242424242424243 0.3333333333333333 0.3939393939393939 0.3939393939393939 0.196324990514559
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#63#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58]
Top-k: 4 5 7 8 11 13 13 33
Top-k+mrr: 0.12121212121212122 0.15151515151515152 0.21212121212121213 0.24242424242424243 0.3333333333333333 0.3939393939393939 0.3939393939393939 0.19654442625123614
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58]
Top-k: 4 5 7 8 11 13 13 34
Top-k+mrr: 0.11764705882352941 0.14705882352941177 0.20588235294117646 0.23529411764705882 0.3235294117647059 0.38235294117647056 0.38235294117647056 0.19105782547914096
x = self.max_pool2d(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#64#self:AlexNet/unknown#max_pool2d
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113]
Top-k: 4 5 7 8 11 13 13 34
Top-k+mrr: 0.11764705882352941 0.14705882352941177 0.20588235294117646 0.23529411764705882 0.3235294117647059 0.38235294117647056 0.38235294117647056 0.19102398893567402
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113]
Top-k: 4 5 7 8 11 13 13 35
Top-k+mrr: 0.11428571428571428 0.14285714285714285 0.2 0.22857142857142856 0.3142857142857143 0.37142857142857144 0.37142857142857144 0.18585187496608332
x = self.flatten(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#67#self:AlexNet/unknown#flatten
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199]
Top-k: 4 5 7 8 11 13 13 35
Top-k+mrr: 0.11428571428571428 0.14285714285714285 0.2 0.22857142857142856 0.3142857142857143 0.37142857142857144 0.37142857142857144 0.18570973569831592
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199]
Top-k: 4 5 7 8 11 13 13 36
Top-k+mrr: 0.1111111111111111 0.1388888888888889 0.19444444444444445 0.2222222222222222 0.3055555555555556 0.3611111111111111 0.3611111111111111 0.18082890970669604
x = self.fc1(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#68#self:AlexNet/unknown#fc1
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25]
Top-k: 4 5 7 8 11 13 13 36
Top-k+mrr: 0.1111111111111111 0.1388888888888889 0.19444444444444445 0.2222222222222222 0.3055555555555556 0.3611111111111111 0.3611111111111111 0.18166224304002937
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25]
Top-k: 4 5 7 8 11 13 13 37
Top-k+mrr: 0.10810810810810811 0.13513513513513514 0.1891891891891892 0.21621621621621623 0.2972972972972973 0.35135135135135137 0.35135135135135137 0.17702272295786642
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#69#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58]
Top-k: 4 5 7 8 11 13 13 37
Top-k+mrr: 0.10810810810810811 0.13513513513513514 0.1891891891891892 0.21621621621621623 0.2972972972972973 0.35135135135135137 0.35135135135135137 0.17721843591220007
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58]
Top-k: 4 5 7 8 11 13 13 38
Top-k+mrr: 0.10526315789473684 0.13157894736842105 0.18421052631578946 0.21052631578947367 0.2894736842105263 0.34210526315789475 0.34210526315789475 0.17281795075661585
x = self.dropout(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#70#self:AlexNet/unknown#dropoutLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
Requirement already satisfied: easydict in /home/xincheng/.local/lib/python3.8/site-packages (1.9)

API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454]
Top-k: 4 5 7 8 11 13 13 38
Top-k+mrr: 0.10526315789473684 0.13157894736842105 0.18421052631578946 0.21052631578947367 0.2894736842105263 0.34210526315789475 0.34210526315789475 0.1726127571558739
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454]
Top-k: 4 5 7 8 11 13 13 39
Top-k+mrr: 0.10256410256410256 0.1282051282051282 0.1794871794871795 0.20512820512820512 0.28205128205128205 0.3333333333333333 0.3333333333333333 0.16844319928008228
x = self.fc2(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#71#self:AlexNet/unknown#fc2
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59]
Top-k: 4 5 7 8 11 13 13 39
Top-k+mrr: 0.10256410256410256 0.1282051282051282 0.1794871794871795 0.20512820512820512 0.28205128205128205 0.3333333333333333 0.3333333333333333 0.16862138267860466
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59]
Top-k: 4 5 7 8 11 13 13 40
Top-k+mrr: 0.1 0.125 0.175 0.2 0.275 0.325 0.325 0.16465584811163952
x = self.relu(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#72#self:AlexNet/unknown#relu
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58]
Top-k: 4 5 7 8 11 13 13 40
Top-k+mrr: 0.1 0.125 0.175 0.2 0.275 0.325 0.325 0.16483688259439816
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58]
Top-k: 4 5 7 8 11 13 13 41
Top-k+mrr: 0.0975609756097561 0.12195121951219512 0.17073170731707318 0.1951219512195122 0.2682926829268293 0.3170731707317073 0.3170731707317073 0.1610603732628275
x = self.dropout(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#73#self:AlexNet/unknown#dropout
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454]
Top-k: 4 5 7 8 11 13 13 41
Top-k+mrr: 0.0975609756097561 0.12195121951219512 0.17073170731707318 0.1951219512195122 0.2682926829268293 0.3170731707317073 0.3170731707317073 0.16087019382799347
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454]
Top-k: 4 5 7 8 11 13 13 42
Top-k+mrr: 0.09523809523809523 0.11904761904761904 0.16666666666666666 0.19047619047619047 0.2619047619047619 0.30952380952380953 0.30952380952380953 0.1572780463558984
x = self.fc3(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/alexnet.py#74#self:AlexNet/unknown#fc3
API IV
1279
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37]
Top-k: 4 5 7 8 11 13 13 42
Top-k+mrr: 0.09523809523809523 0.11904761904761904 0.16666666666666666 0.19047619047619047 0.2619047619047619 0.30952380952380953 0.30952380952380953 0.1576834517613038
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37]
Top-k: 4 5 7 8 11 13 13 43
Top-k+mrr: 0.09302325581395349 0.11627906976744186 0.16279069767441862 0.18604651162790697 0.2558139534883721 0.3023255813953488 0.3023255813953488 0.15424895288313395
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py
{'np': 'numpy'}
dict_keys(['math', 'np'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py
lr_each_step.append(lr)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py#40#lr_each_step:None/unknown#append
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1]
Top-k: 5 6 8 9 12 14 14 43
Top-k+mrr: 0.11627906976744186 0.13953488372093023 0.18604651162790697 0.20930232558139536 0.27906976744186046 0.32558139534883723 0.32558139534883723 0.17727220869708746
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1]
Top-k: 5 6 8 9 12 14 14 44
Top-k+mrr: 0.11363636363636363 0.13636363636363635 0.18181818181818182 0.20454545454545456 0.2727272727272727 0.3181818181818182 0.3181818181818182 0.17347056759033544
lr_each_step = np.array(lr_each_step).astype(np.float32)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py#41#np:None/numpy#array
API IV
623
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370]
Top-k: 5 6 8 9 12 14 14 44
Top-k+mrr: 0.11363636363636363 0.13636363636363635 0.18181818181818182 0.20454545454545456 0.2727272727272727 0.3181818181818182 0.3181818181818182 0.1733047199244878
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370]
Top-k: 5 6 8 9 12 14 14 45
Top-k+mrr: 0.1111111111111111 0.13333333333333333 0.17777777777777778 0.2 0.26666666666666666 0.3111111111111111 0.3111111111111111 0.16967572614838805
lr = eta_min + (base_lr - eta_min) * (1. + math.cos(math.pi*last_epoch / T_max)) / 2
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py#70#math:None/module#cos
API IV
60
lr_each_step.append(lr)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py#71#lr_each_step:None/unknown#append
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1]
Top-k: 6 7 9 10 13 15 15 45
Top-k+mrr: 0.13333333333333333 0.15555555555555556 0.2 0.2222222222222222 0.28888888888888886 0.3333333333333333 0.3333333333333333 0.19167572614838804
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1]
Top-k: 6 7 9 10 13 15 15 46
Top-k+mrr: 0.13043478260869565 0.15217391304347827 0.1956521739130435 0.21739130434782608 0.2826086956521739 0.32608695652173914 0.32608695652173914 0.18772625384081443
return np.array(lr_each_step).astype(np.float32)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/generator_lr.py#73#np:None/numpy#array
API IV
623
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246]
Top-k: 6 7 9 10 13 15 15 46
Top-k+mrr: 0.13043478260869565 0.15217391304347827 0.1956521739130435 0.21739130434782608 0.2826086956521739 0.32608695652173914 0.32608695652173914 0.18759723298538844
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246]
Top-k: 6 7 9 10 13 15 15 47
Top-k+mrr: 0.1276595744680851 0.14893617021276595 0.19148936170212766 0.2127659574468085 0.2765957446808511 0.3191489361702128 0.3191489361702128 0.18381856845378447
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/config.py
No module named 'easydict.EasyDict'
{'edict': 'easydict.EasyDict'}
dict_keys(['edict'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/config.py
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py
{}
dict_keys([])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py
for x in network.trainable_params():
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#20#network:Any/unknown#trainable_params
API IV
27
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1]
Top-k: 7 8 10 11 14 16 16 47
Top-k+mrr: 0.14893617021276595 0.1702127659574468 0.2127659574468085 0.23404255319148937 0.2978723404255319 0.3404255319148936 0.3404255319148936 0.20488239824101848
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1]
Top-k: 7 8 10 11 14 16 16 48
Top-k+mrr: 0.14583333333333334 0.16666666666666666 0.20833333333333334 0.22916666666666666 0.2916666666666667 0.3333333333333333 0.3333333333333333 0.20082234827766396
if parameter_name.endswith('.bias'):
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#22#parameter_name:Any/unknown#endswith
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1]
Top-k: 8 9 11 12 15 17 17 48
Top-k+mrr: 0.16666666666666666 0.1875 0.22916666666666666 0.25 0.3125 0.3541666666666667 0.3541666666666667 0.2214473482776639
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1]
Top-k: 8 9 11 12 15 17 17 49
Top-k+mrr: 0.16326530612244897 0.1836734693877551 0.22448979591836735 0.24489795918367346 0.30612244897959184 0.3469387755102041 0.3469387755102041 0.21713209627199734
no_decay_params.append(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#24#no_decay_params:List[nothing]/unknown#append
API IV
46
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1]
Top-k: 9 10 12 13 16 18 18 49
Top-k+mrr: 0.1836734693877551 0.20408163265306123 0.24489795918367346 0.2653061224489796 0.32653061224489793 0.3673469387755102 0.3673469387755102 0.23733617790465036
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1]
Top-k: 9 10 12 13 16 18 18 50
Top-k+mrr: 0.18 0.2 0.24 0.26 0.32 0.36 0.36 0.2327894543465574
elif parameter_name.endswith('.gamma'):
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#25#parameter_name:Any/unknown#endswith
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1]
Top-k: 10 11 13 14 17 19 19 50
Top-k+mrr: 0.2 0.22 0.26 0.28 0.34 0.38 0.38 0.2525894543465574
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1]
Top-k: 10 11 13 14 17 19 19 51
Top-k+mrr: 0.19607843137254902 0.21568627450980393 0.2549019607843137 0.27450980392156865 0.3333333333333333 0.37254901960784315 0.37254901960784315 0.24783279837897784
no_decay_params.append(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#27#no_decay_params:list/unknown#append
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1]
Top-k: 11 12 14 15 18 20 20 51
Top-k+mrr: 0.21568627450980393 0.23529411764705882 0.27450980392156865 0.29411764705882354 0.35294117647058826 0.39215686274509803 0.39215686274509803 0.26724456308486016
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1]
Top-k: 11 12 14 15 18 20 20 52
Top-k+mrr: 0.21153846153846154 0.23076923076923078 0.2692307692307692 0.28846153846153844 0.34615384615384615 0.38461538461538464 0.38461538461538464 0.2622975522563052
elif parameter_name.endswith('.beta'):
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#28#parameter_name:Any/unknown#endswith
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1]
Top-k: 12 13 15 16 19 21 21 52
Top-k+mrr: 0.23076923076923078 0.25 0.28846153846153844 0.3076923076923077 0.36538461538461536 0.40384615384615385 0.40384615384615385 0.2813360137947667
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1]
Top-k: 12 13 15 16 19 21 21 53
Top-k+mrr: 0.22641509433962265 0.24528301886792453 0.2830188679245283 0.3018867924528302 0.3584905660377358 0.39622641509433965 0.39622641509433965 0.2762164663646768
no_decay_params.append(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#30#no_decay_params:list/unknown#append
API IV
1
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1]
Top-k: 13 14 16 17 20 22 22 53
Top-k+mrr: 0.24528301886792453 0.2641509433962264 0.3018867924528302 0.32075471698113206 0.37735849056603776 0.41509433962264153 0.41509433962264153 0.2948957116476956
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1]
Top-k: 13 14 16 17 20 22 22 54
Top-k+mrr: 0.24074074074074073 0.25925925925925924 0.2962962962962963 0.3148148148148148 0.37037037037037035 0.4074074074074074 0.4074074074074074 0.2896198651357013
decay_params.append(x)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/get_param_groups.py#32#decay_params:List[nothing]/unknown#append
API IV
46
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1]
Top-k: 14 15 17 18 21 23 23 54
Top-k+mrr: 0.25925925925925924 0.2777777777777778 0.3148148148148148 0.3333333333333333 0.3888888888888889 0.42592592592592593 0.42592592592592593 0.3079531984690346
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1]
Top-k: 14 15 17 18 21 23 23 55
Top-k+mrr: 0.2545454545454545 0.2727272727272727 0.3090909090909091 0.32727272727272727 0.38181818181818183 0.41818181818181815 0.41818181818181815 0.30253586758777945
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py
curapi
{'ds': 'mindspore.dataset', 'C': 'mindspore.dataset.transforms.c_transforms', 'CV': 'mindspore.dataset.vision.c_transforms', 'mstype': 'mindspore.common.dtype'}
dict_keys(['os', 'ds', 'C', 'CV', 'mstype', 'get_rank', 'get_group_size'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py
cifar_ds = ds.Cifar10Dataset(data_path)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#38#ds:None/mindspore.dataset#Cifar10Dataset
API IV
665
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191]
Top-k: 14 15 17 18 21 23 23 55
Top-k+mrr: 0.2545454545454545 0.2727272727272727 0.3090909090909091 0.32727272727272727 0.38181818181818183 0.41818181818181815 0.41818181818181815 0.3024492421713111
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191]
Top-k: 14 15 17 18 21 23 23 56
Top-k+mrr: 0.25 0.26785714285714285 0.30357142857142855 0.32142857142857145 0.375 0.4107142857142857 0.4107142857142857 0.29722693427539487
resize_op = CV.Resize((cfg.image_height, cfg.image_width))
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#46#CV:None/mindspore.dataset.vision.c_transforms#Resize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1]
Top-k: 15 16 18 19 22 24 24 56
Top-k+mrr: 0.26785714285714285 0.2857142857142857 0.32142857142857145 0.3392857142857143 0.39285714285714285 0.42857142857142855 0.42857142857142855 0.31490550570396625
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1]
Top-k: 15 16 18 19 22 24 24 57
Top-k+mrr: 0.2631578947368421 0.2807017543859649 0.3157894736842105 0.3333333333333333 0.38596491228070173 0.42105263157894735 0.42105263157894735 0.3095562863056511
rescale_op = CV.Rescale(rescale, shift)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#47#CV:None/mindspore.dataset.vision.c_transforms#Rescale
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8]
Top-k: 15 16 18 19 22 25 25 57
Top-k+mrr: 0.2631578947368421 0.2807017543859649 0.3157894736842105 0.3333333333333333 0.38596491228070173 0.43859649122807015 0.43859649122807015 0.31157383016530016
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8]
Top-k: 15 16 18 19 22 25 25 58
Top-k+mrr: 0.25862068965517243 0.27586206896551724 0.3103448275862069 0.3275862068965517 0.3793103448275862 0.43103448275862066 0.43103448275862066 0.30637428136934675
normalize_op = CV.Normalize((0.4914, 0.4822, 0.4465), (0.2023, 0.1994, 0.2010))
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#48#CV:None/mindspore.dataset.vision.c_transforms#Normalize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1]
Top-k: 16 17 19 20 23 26 26 58
Top-k+mrr: 0.27586206896551724 0.29310344827586204 0.3275862068965517 0.3448275862068966 0.39655172413793105 0.4482758620689655 0.4482758620689655 0.3234432468865881
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1]
Top-k: 16 17 19 20 23 26 26 59
Top-k+mrr: 0.2711864406779661 0.288135593220339 0.3220338983050847 0.3389830508474576 0.3898305084745763 0.4406779661016949 0.4406779661016949 0.3181306494817307
random_crop_op = CV.RandomCrop([32, 32], [4, 4, 4, 4])
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#50#CV:None/mindspore.dataset.vision.c_transforms#RandomCrop
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3]
Top-k: 16 17 20 21 24 27 27 59
Top-k+mrr: 0.2711864406779661 0.288135593220339 0.3389830508474576 0.3559322033898305 0.4067796610169492 0.4576271186440678 0.4576271186440678 0.3236108754704312
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3]
Top-k: 16 17 20 21 24 27 27 60
Top-k+mrr: 0.26666666666666666 0.2833333333333333 0.3333333333333333 0.35 0.4 0.45 0.45 0.31838402754592404
random_horizontal_op = CV.RandomHorizontalFlip()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#51#CV:None/mindspore.dataset.vision.c_transforms#RandomHorizontalFlip
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4]
Top-k: 16 17 20 22 25 28 28 60
Top-k+mrr: 0.26666666666666666 0.2833333333333333 0.3333333333333333 0.36666666666666664 0.4166666666666667 0.4666666666666667 0.4666666666666667 0.32238402754592405
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4]
Top-k: 16 17 20 22 25 28 28 61
Top-k+mrr: 0.26229508196721313 0.2786885245901639 0.32786885245901637 0.36065573770491804 0.4098360655737705 0.45901639344262296 0.45901639344262296 0.3172629779140237
channel_swap_op = CV.HWC2CHW()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#52#CV:None/mindspore.dataset.vision.c_transforms#HWC2CHW
typecast_op = C.TypeCast(mstype.int32)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#53#C:None/mindspore.dataset.transforms.c_transforms#TypeCast
API IV
12
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10]
Top-k: 16 17 20 22 25 29 29 61
Top-k+mrr: 0.26229508196721313 0.2786885245901639 0.32786885245901637 0.36065573770491804 0.4098360655737705 0.47540983606557374 0.47540983606557374 0.3187383877500892
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10]
Top-k: 16 17 20 22 25 29 29 62
Top-k+mrr: 0.25806451612903225 0.27419354838709675 0.3225806451612903 0.3548387096774194 0.4032258064516129 0.46774193548387094 0.46774193548387094 0.31375873633476525
cifar_ds = cifar_ds.map(input_columns="label", operations=typecast_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#54#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1]
Top-k: 17 18 21 23 26 30 30 62
Top-k+mrr: 0.27419354838709675 0.2903225806451613 0.3387096774193548 0.3709677419354839 0.41935483870967744 0.4838709677419355 0.4838709677419355 0.3297264782702491
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1]
Top-k: 17 18 21 23 26 30 30 63
Top-k+mrr: 0.2698412698412698 0.2857142857142857 0.3333333333333333 0.36507936507936506 0.4126984126984127 0.47619047619047616 0.47619047619047616 0.324651454805642
cifar_ds = cifar_ds.map(input_columns="image", operations=random_crop_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#56#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1]
Top-k: 18 19 22 24 27 31 31 63
Top-k+mrr: 0.2857142857142857 0.30158730158730157 0.3492063492063492 0.38095238095238093 0.42857142857142855 0.49206349206349204 0.49206349206349204 0.3403657405199277
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1]
Top-k: 18 19 22 24 27 31 31 64
Top-k+mrr: 0.28125 0.296875 0.34375 0.375 0.421875 0.484375 0.484375 0.33520377582430383
cifar_ds = cifar_ds.map(input_columns="image", operations=random_horizontal_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#57#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1]
Top-k: 19 20 23 25 28 32 32 64
Top-k+mrr: 0.296875 0.3125 0.359375 0.390625 0.4375 0.5 0.5 0.3506725258243038
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1]
Top-k: 19 20 23 25 28 32 32 65
Top-k+mrr: 0.2923076923076923 0.3076923076923077 0.35384615384615387 0.38461538461538464 0.4307692307692308 0.49230769230769234 0.49230769230769234 0.3454314100423915
cifar_ds = cifar_ds.map(input_columns="image", operations=resize_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#58#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1]
Top-k: 20 21 24 26 29 33 33 65
Top-k+mrr: 0.3076923076923077 0.3230769230769231 0.36923076923076925 0.4 0.4461538461538462 0.5076923076923077 0.5076923076923077 0.3606621792731607
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1]
Top-k: 20 21 24 26 29 33 33 66
Top-k+mrr: 0.30303030303030304 0.3181818181818182 0.36363636363636365 0.3939393939393939 0.4393939393939394 0.5 0.5 0.35534911595084007
cifar_ds = cifar_ds.map(input_columns="image", operations=rescale_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#59#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1]
Top-k: 21 22 25 27 30 34 34 66
Top-k+mrr: 0.3181818181818182 0.3333333333333333 0.3787878787878788 0.4090909090909091 0.45454545454545453 0.5151515151515151 0.5151515151515151 0.3703491159508401
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1]
Top-k: 21 22 25 27 30 34 34 67
Top-k+mrr: 0.31343283582089554 0.3283582089552239 0.373134328358209 0.40298507462686567 0.44776119402985076 0.5074626865671642 0.5074626865671642 0.3649707709366484
cifar_ds = cifar_ds.map(input_columns="image", operations=normalize_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#60#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1]
Top-k: 22 23 26 28 31 35 35 67
Top-k+mrr: 0.3283582089552239 0.34328358208955223 0.3880597014925373 0.417910447761194 0.4626865671641791 0.5223880597014925 0.5223880597014925 0.3797468903396335
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1]
Top-k: 22 23 26 28 31 35 35 68
Top-k+mrr: 0.3235294117647059 0.3382352941176471 0.38235294117647056 0.4117647058823529 0.45588235294117646 0.5147058823529411 0.5147058823529411 0.374309436069933
cifar_ds = cifar_ds.map(input_columns="image", operations=channel_swap_op, num_parallel_workers=8)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#61#cifar_ds:None/unknown#map
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1]
Top-k: 23 24 27 29 32 36 36 68
Top-k+mrr: 0.3382352941176471 0.35294117647058826 0.39705882352941174 0.4264705882352941 0.47058823529411764 0.5294117647058824 0.5294117647058824 0.38886825959934473
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1]
Top-k: 23 24 27 29 32 36 36 69
Top-k+mrr: 0.3333333333333333 0.34782608695652173 0.391304347826087 0.42028985507246375 0.463768115942029 0.5217391304347826 0.5217391304347826 0.38337741525732527
cifar_ds = cifar_ds.shuffle(buffer_size=cfg.buffer_size)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#63#cifar_ds:None/unknown#shuffle
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4]
Top-k: 23 24 27 30 33 37 37 69
Top-k+mrr: 0.3333333333333333 0.34782608695652173 0.391304347826087 0.43478260869565216 0.4782608695652174 0.5362318840579711 0.5362318840579711 0.3868556761268905
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4]
Top-k: 23 24 27 30 33 37 37 70
Top-k+mrr: 0.32857142857142857 0.34285714285714286 0.38571428571428573 0.42857142857142855 0.4714285714285714 0.5285714285714286 0.5285714285714286 0.3814720236107921
cifar_ds = cifar_ds.batch(batch_size, drop_remainder=True)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#64#cifar_ds:None/unknown#batch
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3]
Top-k: 23 24 28 31 34 38 38 70
Top-k+mrr: 0.32857142857142857 0.34285714285714286 0.4 0.44285714285714284 0.4857142857142857 0.5428571428571428 0.5428571428571428 0.38609107122983966
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3]
Top-k: 23 24 28 31 34 38 38 71
Top-k+mrr: 0.323943661971831 0.3380281690140845 0.39436619718309857 0.43661971830985913 0.4788732394366197 0.5352112676056338 0.5352112676056338 0.3807940138885743
cifar_ds = cifar_ds.repeat(repeat_size)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#65#cifar_ds:None/unknown#repeat
API IV
4
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2]
Top-k: 23 25 29 32 35 39 39 71
Top-k+mrr: 0.323943661971831 0.352112676056338 0.4084507042253521 0.4507042253521127 0.49295774647887325 0.5492957746478874 0.5492957746478874 0.3876954223392785
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2]
Top-k: 23 25 29 32 35 39 39 72
Top-k+mrr: 0.3194444444444444 0.3472222222222222 0.4027777777777778 0.4444444444444444 0.4861111111111111 0.5416666666666666 0.5416666666666666 0.38244965258456637
CV.RandomCropDecodeResize(image_size, scale=(0.08, 1.0), ratio=(0.75, 1.333)),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#102#CV:None/mindspore.dataset.vision.c_transforms#RandomCropDecodeResize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22]
Top-k: 23 25 29 32 35 39 39 72
Top-k+mrr: 0.3194444444444444 0.3472222222222222 0.4027777777777778 0.4444444444444444 0.4861111111111111 0.5416666666666666 0.5416666666666666 0.3829420768269906
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22]
Top-k: 23 25 29 32 35 39 39 73
Top-k+mrr: 0.3150684931506849 0.3424657534246575 0.3972602739726027 0.4383561643835616 0.4794520547945205 0.5342465753424658 0.5342465753424658 0.37783328125401816
CV.RandomHorizontalFlip(prob=0.5),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#103#CV:None/mindspore.dataset.vision.c_transforms#RandomHorizontalFlip
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3]
Top-k: 23 25 30 33 36 40 40 73
Top-k+mrr: 0.3150684931506849 0.3424657534246575 0.410958904109589 0.4520547945205479 0.4931506849315068 0.547945205479452 0.547945205479452 0.3822625049983103
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3]
Top-k: 23 25 30 33 36 40 40 74
Top-k+mrr: 0.3108108108108108 0.33783783783783783 0.40540540540540543 0.44594594594594594 0.4864864864864865 0.5405405405405406 0.5405405405405406 0.3772319306064413
CV.Normalize(mean=mean, std=std),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#104#CV:None/mindspore.dataset.vision.c_transforms#Normalize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2]
Top-k: 23 26 31 34 37 41 41 74
Top-k+mrr: 0.3108108108108108 0.35135135135135137 0.4189189189189189 0.4594594594594595 0.5 0.5540540540540541 0.5540540540540541 0.3838535522280629
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2]
Top-k: 23 26 31 34 37 41 41 75
Top-k+mrr: 0.30666666666666664 0.3466666666666667 0.41333333333333333 0.4533333333333333 0.49333333333333335 0.5466666666666666 0.5466666666666666 0.37886883819835543
CV.HWC2CHW()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#105#CV:None/mindspore.dataset.vision.c_transforms#HWC2CHW
CV.Decode(),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#109#CV:None/mindspore.dataset.vision.c_transforms#Decode
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1]
Top-k: 24 27 32 35 38 42 42 75
Top-k+mrr: 0.32 0.36 0.4266666666666667 0.4666666666666667 0.5066666666666667 0.56 0.56 0.3920688381983554
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1]
Top-k: 24 27 32 35 38 42 42 76
Top-k+mrr: 0.3157894736842105 0.35526315789473684 0.42105263157894735 0.4605263157894737 0.5 0.5526315789473685 0.5526315789473685 0.3870416166431139
CV.Resize((256, 256)),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#110#CV:None/mindspore.dataset.vision.c_transforms#Resize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7]
Top-k: 24 27 32 35 38 43 43 76
Top-k+mrr: 0.3157894736842105 0.35526315789473684 0.42105263157894735 0.4605263157894737 0.5 0.5657894736842105 0.5657894736842105 0.38878973694386576
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7]
Top-k: 24 27 32 35 38 43 43 77
Top-k+mrr: 0.3116883116883117 0.35064935064935066 0.4155844155844156 0.45454545454545453 0.4935064935064935 0.5584415584415584 0.5584415584415584 0.38387038971082854
CV.CenterCrop(image_size),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#111#CV:None/mindspore.dataset.vision.c_transforms#CenterCrop
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17]
Top-k: 24 27 32 35 38 43 44 77
Top-k+mrr: 0.3116883116883117 0.35064935064935066 0.4155844155844156 0.45454545454545453 0.4935064935064935 0.5584415584415584 0.5714285714285714 0.3845044615213709
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17]
Top-k: 24 27 32 35 38 43 44 78
Top-k+mrr: 0.3076923076923077 0.34615384615384615 0.41025641025641024 0.44871794871794873 0.48717948717948717 0.5512820512820513 0.5641025641025641 0.379703122271097
CV.Normalize(mean=mean, std=std),
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#112#CV:None/mindspore.dataset.vision.c_transforms#Normalize
API IV
37
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2]
Top-k: 24 28 33 36 39 44 45 78
Top-k+mrr: 0.3076923076923077 0.358974358974359 0.4230769230769231 0.46153846153846156 0.5 0.5641025641025641 0.5769230769230769 0.3859851735531482
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2]
Top-k: 24 28 33 36 39 44 45 79
Top-k+mrr: 0.3037974683544304 0.35443037974683544 0.4177215189873418 0.45569620253164556 0.4936708860759494 0.5569620253164557 0.569620253164557 0.3812258675588046
CV.HWC2CHW()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#113#CV:None/mindspore.dataset.vision.c_transforms#HWC2CHW
transform_label = [C.TypeCast(mstype.int32)]
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#116#C:None/mindspore.dataset.transforms.c_transforms#TypeCast
API IV
12
data_set = data_set.batch(batch_size, num_parallel_workers=num_parallel_workers2, drop_remainder=True)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#124#data_set:None/unknown#batch
API IV
5
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4]
Top-k: 24 28 33 37 40 45 46 79
Top-k+mrr: 0.3037974683544304 0.35443037974683544 0.4177215189873418 0.46835443037974683 0.5063291139240507 0.569620253164557 0.5822784810126582 0.3842638422423489
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4]
Top-k: 24 28 33 37 40 45 46 80
Top-k+mrr: 0.3 0.35 0.4125 0.4625 0.5 0.5625 0.575 0.37958554421431956
data_set = data_set.repeat(repeat_num)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#127#data_set:None/unknown#repeat
API IV
5
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1]
Top-k: 25 29 34 38 41 46 47 80
Top-k+mrr: 0.3125 0.3625 0.425 0.475 0.5125 0.575 0.5875 0.39196054421431953
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1]
Top-k: 25 29 34 38 41 46 47 81
Top-k+mrr: 0.30864197530864196 0.35802469135802467 0.41975308641975306 0.4691358024691358 0.5061728395061729 0.5679012345679012 0.5802469135802469 0.3872449819400687
rank_size = int(os.environ.get("RANK_SIZE", 1))
first, os
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/src/dataset.py#136#os.environ:None/unknown#get
API OOV
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py
{'np': 'numpy', 'ms': 'mindspore'}
dict_keys(['argparse', 'np', 'ms', 'context', 'Tensor', 'load_checkpoint', 'load_param_into_net', 'export', 'alexnet_cifar10_cfg', 'alexnet_imagenet_cfg', 'AlexNet'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py
parser = argparse.ArgumentParser(description='Classification')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#28#argparse:None/module#ArgumentParser
API IV
50
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1]
Top-k: 26 30 35 39 42 47 48 81
Top-k+mrr: 0.32098765432098764 0.37037037037037035 0.43209876543209874 0.48148148148148145 0.5185185185185185 0.5802469135802469 0.5925925925925926 0.3994672041622909
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1]
Top-k: 26 30 35 39 42 47 48 83
Top-k+mrr: 0.3132530120481928 0.3614457831325301 0.42168674698795183 0.46987951807228917 0.5060240963855421 0.5662650602409639 0.5783132530120482 0.3900824522547658
parser.add_argument("--device_id", type=int, default=0, help="Device id")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#29#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5]
Top-k: 26 30 35 39 43 48 49 82
Top-k+mrr: 0.3170731707317073 0.36585365853658536 0.4268292682926829 0.47560975609756095 0.524390243902439 0.5853658536585366 0.5975609756097561 0.39703467728226305
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5]
Top-k: 26 30 35 39 43 48 49 84
Top-k+mrr: 0.30952380952380953 0.35714285714285715 0.4166666666666667 0.4642857142857143 0.5119047619047619 0.5714285714285714 0.5833333333333334 0.38781956591839956
parser.add_argument("--batch_size", type=int, default=1, help="batch size")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#30#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5]
Top-k: 26 30 35 39 44 49 50 83
Top-k+mrr: 0.3132530120481928 0.3614457831325301 0.42168674698795183 0.46987951807228917 0.5301204819277109 0.5903614457831325 0.6024096385542169 0.39466076550777796
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5]
Top-k: 26 30 35 39 44 49 50 85
Top-k+mrr: 0.3058823529411765 0.35294117647058826 0.4117647058823529 0.4588235294117647 0.5176470588235295 0.5764705882352941 0.5882352941176471 0.3856099239664184
parser.add_argument("--ckpt_file", type=str, required=True, help="Checkpoint file path.")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#36#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5]
Top-k: 26 30 35 39 45 50 51 84
Top-k+mrr: 0.30952380952380953 0.35714285714285715 0.4166666666666667 0.4642857142857143 0.5357142857142857 0.5952380952380952 0.6071428571428571 0.3923433754422092
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5]
Top-k: 26 30 35 39 45 50 51 86
Top-k+mrr: 0.3023255813953488 0.3488372093023256 0.4069767441860465 0.45348837209302323 0.5232558139534884 0.5813953488372093 0.5930232558139535 0.3834516690365764
parser.add_argument("--file_name", type=str, default="alexnet", help="output file name.")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#37#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5]
Top-k: 26 30 35 39 46 51 52 85
Top-k+mrr: 0.3058823529411765 0.35294117647058826 0.4117647058823529 0.4588235294117647 0.5411764705882353 0.6 0.611764705882353 0.39008051220171264
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5]
Top-k: 26 30 35 39 46 51 52 87
Top-k+mrr: 0.2988505747126437 0.3448275862068966 0.40229885057471265 0.4482758620689655 0.5287356321839081 0.5862068965517241 0.5977011494252874 0.3813430291625928
parser.add_argument("--file_format", type=str, choices=["AIR", "ONNX", "MINDIR"], default="AIR", help="file format")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#38#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5]
Top-k: 26 30 35 39 47 52 53 86
Top-k+mrr: 0.3023255813953488 0.3488372093023256 0.4069767441860465 0.45348837209302323 0.5465116279069767 0.6046511627906976 0.6162790697674418 0.3878702736877393
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5]
Top-k: 26 30 35 39 47 52 53 88
Top-k+mrr: 0.29545454545454547 0.3409090909090909 0.3977272727272727 0.4431818181818182 0.5340909090909091 0.5909090909090909 0.6022727272727273 0.3792823129221088
args_opt = parser.parse_args()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#39#parser:None/unknown#parse_args
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1]
Top-k: 27 31 36 40 48 53 54 87
Top-k+mrr: 0.3103448275862069 0.3563218390804598 0.41379310344827586 0.45977011494252873 0.5517241379310345 0.6091954022988506 0.6206896551724138 0.3949062475533975
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1]
Top-k: 27 31 36 40 48 53 54 89
Top-k+mrr: 0.30337078651685395 0.34831460674157305 0.4044943820224719 0.449438202247191 0.5393258426966292 0.5955056179775281 0.6067415730337079 0.38625666895669186
context.set_context(mode=context.GRAPH_MODE, device_target=args_opt.device_target, device_id=args_opt.device_id)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#41#context:None/module#set_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1]
Top-k: 28 32 37 41 49 54 55 88
Top-k+mrr: 0.3181818181818182 0.36363636363636365 0.42045454545454547 0.4659090909090909 0.5568181818181818 0.6136363636363636 0.625 0.40178231292210886
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1]
Top-k: 28 32 37 41 49 54 55 90
Top-k+mrr: 0.3111111111111111 0.35555555555555557 0.4111111111111111 0.45555555555555555 0.5444444444444444 0.6 0.6111111111111112 0.3930760393016175
input_arr = Tensor(np.zeros([args_opt.batch_size, 3, cfg.image_height, cfg.image_width]), ms.float32)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/export.py#56#np:None/numpy#zeros
API IV
623
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/mindspore_hub_conf.py
{}
dict_keys(['AlexNet'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/mindspore_hub_conf.py
Dealing with modules... /home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py
{'nn': 'mindspore.nn'}
dict_keys(['ast', 'argparse', 'alexnet_cifar10_cfg', 'alexnet_imagenet_cfg', 'AlexNet', 'nn', 'context', 'load_checkpoint', 'load_param_into_net', 'Model', 'Accuracy'])
DEAL-WITH:/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py
parser = argparse.ArgumentParser(description='MindSpore AlexNet Example')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#34#argparse:None/module#ArgumentParser
API IV
50
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1]
Top-k: 29 33 38 42 50 55 56 89
Top-k+mrr: 0.3258426966292135 0.3707865168539326 0.42696629213483145 0.47191011235955055 0.5617977528089888 0.6179775280898876 0.6292134831460674 0.4085038599679279
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1]
Top-k: 29 33 38 42 50 55 56 91
Top-k+mrr: 0.31868131868131866 0.3626373626373626 0.4175824175824176 0.46153846153846156 0.5494505494505495 0.6043956043956044 0.6153846153846154 0.3997455333752261
parser.add_argument('--data_path', type=str, default="./", help='path where the dataset is saved')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#39#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5]
Top-k: 29 33 38 42 51 56 57 90
Top-k+mrr: 0.32222222222222224 0.36666666666666664 0.4222222222222222 0.4666666666666667 0.5666666666666667 0.6222222222222222 0.6333333333333333 0.4061871504127287
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5]
Top-k: 29 33 38 42 51 56 57 92
Top-k+mrr: 0.31521739130434784 0.358695652173913 0.41304347826086957 0.45652173913043476 0.5543478260869565 0.6086956521739131 0.6195652173913043 0.3975743862733215
parser.add_argument('--device_id', type=int, default=0, help='device id of GPU or Ascend. (Default: 0)')
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#44#parser:None/unknown#add_argument
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5]
Top-k: 29 33 38 42 52 57 58 91
Top-k+mrr: 0.31868131868131866 0.3626373626373626 0.4175824175824176 0.46153846153846156 0.5714285714285714 0.6263736263736264 0.6373626373626373 0.4039213575510504
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5]
Top-k: 29 33 38 42 52 57 58 93
Top-k+mrr: 0.3118279569892473 0.3548387096774194 0.40860215053763443 0.45161290322580644 0.5591397849462365 0.6129032258064516 0.6236559139784946 0.3954499305069417
args = parser.parse_args()
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#45#parser:None/unknown#parse_args
API IV
17
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1]
Top-k: 30 34 39 43 53 58 59 92
Top-k+mrr: 0.32608695652173914 0.3695652173913043 0.42391304347826086 0.4673913043478261 0.5760869565217391 0.6304347826086957 0.6413043478260869 0.4104004732298433
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1]
Top-k: 30 34 39 43 53 58 59 94
Top-k+mrr: 0.3191489361702128 0.3617021276595745 0.4148936170212766 0.4574468085106383 0.5638297872340425 0.6170212765957447 0.6276595744680851 0.401881314224953
context.set_context(mode=context.GRAPH_MODE, device_target=args.device_target)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#47#context:None/module#set_context
API IV
9
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2]
Top-k: 30 35 40 44 54 59 60 93
Top-k+mrr: 0.3225806451612903 0.3763440860215054 0.43010752688172044 0.4731182795698925 0.5806451612903226 0.6344086021505376 0.6451612903225806 0.41136390900156544
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2]
Top-k: 30 35 40 44 54 59 60 95
Top-k+mrr: 0.3157894736842105 0.3684210526315789 0.42105263157894735 0.4631578947368421 0.5684210526315789 0.6210526315789474 0.631578947368421 0.4029141424962693
loss = nn.SoftmaxCrossEntropyWithLogits(sparse=True, reduction="mean")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#54#nn:None/mindspore.nn#SoftmaxCrossEntropyWithLogits
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7]
Top-k: 30 35 40 44 54 60 61 94
Top-k+mrr: 0.3191489361702128 0.3723404255319149 0.425531914893617 0.46808510638297873 0.574468085106383 0.6382978723404256 0.648936170212766 0.40850745404258226
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7]
Top-k: 30 35 40 44 54 60 61 96
Top-k+mrr: 0.3125 0.3645833333333333 0.4166666666666667 0.4583333333333333 0.5625 0.625 0.6354166666666666 0.40020521541669507
opt = nn.Momentum(network.trainable_params(), cfg.learning_rate, cfg.momentum)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#55#nn:None/mindspore.nn#Momentum
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248]
Top-k: 30 35 40 44 54 60 61 95
Top-k+mrr: 0.3157894736842105 0.3684210526315789 0.42105263157894735 0.4631578947368421 0.5684210526315789 0.631578947368421 0.6421052631578947 0.4042498204007079
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248]
Top-k: 30 35 40 44 54 60 61 97
Top-k+mrr: 0.30927835051546393 0.36082474226804123 0.41237113402061853 0.4536082474226804 0.5567010309278351 0.6185567010309279 0.6288659793814433 0.3961209581244046
network.set_train(False)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#61#network:None/unknown#set_train
API IV
27
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1]
Top-k: 31 36 41 45 55 61 62 96
Top-k+mrr: 0.3229166666666667 0.375 0.4270833333333333 0.46875 0.5729166666666666 0.6354166666666666 0.6458333333333334 0.4104555514382005
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1]
Top-k: 31 36 41 45 55 61 62 98
Top-k+mrr: 0.3163265306122449 0.3673469387755102 0.41836734693877553 0.45918367346938777 0.5612244897959183 0.6224489795918368 0.6326530612244898 0.4022829891639515
loss = nn.SoftmaxCrossEntropyWithLogits(sparse=True, reduction="mean")
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#68#nn:None/mindspore.nn#SoftmaxCrossEntropyWithLogits
API IV
265
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5]
Top-k: 31 36 41 45 56 62 63 97
Top-k+mrr: 0.31958762886597936 0.3711340206185567 0.422680412371134 0.4639175257731959 0.5773195876288659 0.6391752577319587 0.6494845360824743 0.4082859065780129
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5]
Top-k: 31 36 41 45 56 62 63 99
Top-k+mrr: 0.31313131313131315 0.36363636363636365 0.41414141414141414 0.45454545454545453 0.5656565656565656 0.6262626262626263 0.6363636363636364 0.4002397266471439
network.set_train(False)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#74#network:None/unknown#set_train
API IV
27
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5, 1]
Top-k: 32 37 42 46 57 63 64 98
Top-k+mrr: 0.32653061224489793 0.37755102040816324 0.42857142857142855 0.46938775510204084 0.5816326530612245 0.6428571428571429 0.6530612244897959 0.4143238054904822
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5, 1]
Top-k: 32 37 42 46 57 63 64 100
Top-k+mrr: 0.32 0.37 0.42 0.46 0.57 0.63 0.64 0.4062373293806725
if ds_eval.get_dataset_size() == 0:
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#81#ds_eval:None/unknown#get_dataset_size
API IV
1
result = model.eval(ds_eval, dataset_sink_mode=args.dataset_sink_mode)
/home/xincheng/demo/testdata/model_zoo/official/cv/alexnet/eval.py#84#model:None/unknown#eval
API IV
14
[1, 1, 5, 5, 5, 1, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5, 1, 5]
Top-k: 32 37 42 46 58 64 65 99
Top-k+mrr: 0.32323232323232326 0.37373737373737376 0.42424242424242425 0.46464646464646464 0.5858585858585859 0.6464646464646465 0.6565656565656566 0.4121589185663359
[1, 1, 5, 5, 5, 1, 100, 4, 3, 2, 8, 8, 186, 248, 185, 32, 3, 96, 69, 148, 1, 128, 74, 58, 113, 913, 58, 113, 345, 58, 148, 58, 179, 58, 113, 199, 25, 58, 454, 59, 58, 454, 37, 1, 370, 1, 246, 1, 1, 1, 1, 1, 1, 1, 1, 191, 1, 8, 1, 3, 4, 10, 1, 1, 1, 1, 1, 1, 1, 4, 3, 2, 22, 3, 2, 1, 7, 17, 2, 4, 1, 100, 1, 5, 5, 5, 5, 5, 1, 1, 1, 5, 5, 1, 2, 7, 248, 1, 5, 1, 5]
Top-k: 32 37 42 46 58 64 65 101
Top-k+mrr: 0.31683168316831684 0.36633663366336633 0.4158415841584158 0.45544554455445546 0.5742574257425742 0.6336633663366337 0.6435643564356436 0.40419537562442825
